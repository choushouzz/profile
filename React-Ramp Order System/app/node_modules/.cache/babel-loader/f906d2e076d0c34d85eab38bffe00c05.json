{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import ImageUploader from\"react-images-upload\";import ReactDOM from\"react-dom\";import\"./style.css\";var Upload=/*#__PURE__*/function(_React$Component){_inherits(Upload,_React$Component);var _super=_createSuper(Upload);function Upload(props){var _this;_classCallCheck(this,Upload);_this=_super.call(this,props);_this.state={pictures:[]};_this.onDrop=_this.onDrop.bind(_assertThisInitialized(_this));return _this;}_createClass(Upload,[{key:\"onDrop\",value:function(){var _onDrop=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(picture){var file,form,request,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({pictures:this.state.pictures.concat(picture)});file=picture[0];form=new FormData();form.append('file',file);form.append('upload_preset',process.env.REACT_APP_CLOUD_PRESET);request=new Request(process.env.REACT_APP_CLOUD_URL,{method:\"POST\",body:form});_context.next=8;return fetch(request);case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;this.props.handlePicture(this.props.imageIdentifier,data.url);case 13:case\"end\":return _context.stop();}}},_callee,this);}));function onDrop(_x){return _onDrop.apply(this,arguments);}return onDrop;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",border:\"1px solid blue\",width:310}},/*#__PURE__*/React.createElement(\"div\",{style:{marginRight:\"15px\"}},/*#__PURE__*/React.createElement(ImageUploader,{withIcon:false,withPreview:true,label:\"\",buttonText:\"Upload Images\",onChange:function onChange(e){return _this2.onDrop(e);},imgExtension:[\".jpg\",\".gif\",\".png\",\".gif\",\".svg\"],maxFileSize:1048576,fileSizeError:\" file size is too big\"})),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\"}})));}}]);return Upload;}(React.Component);var rootElement=document.getElementById(\"root\");ReactDOM.render(/*#__PURE__*/React.createElement(Upload,null),rootElement);export default Upload;","map":{"version":3,"sources":["C:/Users/owner/desktop/team/app/src/components/react-components/RequestForm/Upload/Upload.js"],"names":["React","ImageUploader","ReactDOM","Upload","props","state","pictures","onDrop","bind","picture","setState","concat","file","form","FormData","append","process","env","REACT_APP_CLOUD_PRESET","request","Request","REACT_APP_CLOUD_URL","method","body","fetch","response","json","data","handlePicture","imageIdentifier","url","display","border","width","marginRight","e","flexDirection","Component","rootElement","document","getElementById","render"],"mappings":"6lCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,aAAP,C,GAEMC,CAAAA,M,4GACJ,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,QAAQ,CAAE,EAAZ,CAAb,CACA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CAHiB,aAIlB,C,yIAEYC,O,sJACX,KAAKC,QAAL,CAAc,CACZJ,QAAQ,CAAE,KAAKD,KAAL,CAAWC,QAAX,CAAoBK,MAApB,CAA2BF,OAA3B,CADE,CAAd,EAIIG,I,CAAOH,OAAO,CAAC,CAAD,C,CACZI,I,CAAO,GAAIC,CAAAA,QAAJ,E,CACbD,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBH,IAApB,EACAC,IAAI,CAACE,MAAL,CAAY,eAAZ,CAA6BC,OAAO,CAACC,GAAR,CAAYC,sBAAzC,EAEMC,O,CAAU,GAAIC,CAAAA,OAAJ,CAAYJ,OAAO,CAACC,GAAR,CAAYI,mBAAxB,CAA6C,CAC3DC,MAAM,CAAE,MADmD,CAE3DC,IAAI,CAAEV,IAFqD,CAA7C,C,uBAKKW,CAAAA,KAAK,CAACL,OAAD,C,QAAtBM,Q,sCACaA,CAAAA,QAAQ,CAACC,IAAT,E,SAAbC,I,eACJ,KAAKvB,KAAL,CAAWwB,aAAX,CAAyB,KAAKxB,KAAL,CAAWyB,eAApC,CAAqDF,IAAI,CAACG,GAA1D,E,iLAGO,iBACP,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BACE,KAAK,CAAE,CACLC,OAAO,CAAE,MADJ,CAELC,MAAM,CAAE,gBAFH,CAGLC,KAAK,CAAE,GAHF,CADT,eAOE,2BAAK,KAAK,CAAE,CAAEC,WAAW,CAAE,MAAf,CAAZ,eACE,oBAAC,aAAD,EACE,QAAQ,CAAE,KADZ,CAEE,WAAW,CAAE,IAFf,CAGE,KAAK,CAAC,EAHR,CAIE,UAAU,CAAC,eAJb,CAKE,QAAQ,CAAE,kBAACC,CAAD,QAAO,CAAA,MAAI,CAAC5B,MAAL,CAAY4B,CAAZ,CAAP,EALZ,CAME,YAAY,CAAE,CAAC,MAAD,CAAS,MAAT,CAAiB,MAAjB,CAAyB,MAAzB,CAAiC,MAAjC,CANhB,CAOE,WAAW,CAAE,OAPf,CAQE,aAAa,CAAC,uBARhB,EADF,CAPF,cAmBE,2BACE,KAAK,CAAE,CACLJ,OAAO,CAAE,MADJ,CAELK,aAAa,CAAE,QAFV,CADT,EAnBF,CADF,CADF,CA8BD,C,oBA1DkBpC,KAAK,CAACqC,S,EA6D3B,GAAMC,CAAAA,WAAW,CAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAApB,CACAtC,QAAQ,CAACuC,MAAT,cAAgB,oBAAC,MAAD,MAAhB,CAA4BH,WAA5B,EAEA,cAAenC,CAAAA,MAAf","sourcesContent":["import React from \"react\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./style.css\";\r\n\r\nclass Upload extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { pictures: [] };\r\n    this.onDrop = this.onDrop.bind(this);\r\n  }\r\n\r\n  async onDrop(picture) {\r\n    this.setState({\r\n      pictures: this.state.pictures.concat(picture),\r\n    });\r\n\r\n    var file = picture[0];\r\n    const form = new FormData();\r\n    form.append('file', file)\r\n    form.append('upload_preset', process.env.REACT_APP_CLOUD_PRESET)\r\n\r\n    const request = new Request(process.env.REACT_APP_CLOUD_URL, {\r\n      method: \"POST\",\r\n      body: form,\r\n    });\r\n\r\n    var response = await fetch(request)\r\n    var data = await response.json()\r\n    this.props.handlePicture(this.props.imageIdentifier, data.url);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            border: \"1px solid blue\",\r\n            width: 310,\r\n          }}\r\n        >\r\n          <div style={{ marginRight: \"15px\" }}>\r\n            <ImageUploader\r\n              withIcon={false}\r\n              withPreview={true}\r\n              label=\"\"\r\n              buttonText=\"Upload Images\"\r\n              onChange={(e) => this.onDrop(e)}\r\n              imgExtension={[\".jpg\", \".gif\", \".png\", \".gif\", \".svg\"]}\r\n              maxFileSize={1048576}\r\n              fileSizeError=\" file size is too big\"\r\n            />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<Upload />, rootElement);\r\n\r\nexport default Upload;\r\n"]},"metadata":{},"sourceType":"module"}