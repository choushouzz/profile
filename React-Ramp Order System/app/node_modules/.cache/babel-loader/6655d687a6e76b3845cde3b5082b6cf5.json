{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\owner\\\\Desktop\\\\team\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import Button from\"@material-ui/core/Button\";import Grid from\"@material-ui/core/Grid\";import{Skeleton}from'@material-ui/lab';import TextField from\"@material-ui/core/TextField\";import\"./styles.css\";//Listing returns a button with the client/business names and status\nvar Listing=/*#__PURE__*/function(_React$Component){_inherits(Listing,_React$Component);var _super=_createSuper(Listing);function Listing(props){_classCallCheck(this,Listing);return _super.call(this,props);}_createClass(Listing,[{key:\"render\",value:function render(){var _this$props=this.props,listing=_this$props.listing,click=_this$props.click;return/*#__PURE__*/React.createElement(Button,{className:\"listing_button\",onClick:click},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},listing[\"pk\"],\" \"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},\"\".concat(listing['first_name'],\" \").concat(listing['last_name'])),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},listing['company'],\" \"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},listing['status'],\" \")));}}]);return Listing;}(React.Component);var FilterBox=/*#__PURE__*/function(_React$Component2){_inherits(FilterBox,_React$Component2);var _super2=_createSuper(FilterBox);function FilterBox(props){var _this;_classCallCheck(this,FilterBox);_this=_super2.call(this,props);_this.handleChange=function(e){_this.setState({listingFilter:e.target.value});_this.props.onChange(e.target.value);};_this.state={listingFilter:\"\"};return _this;}_createClass(FilterBox,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(TextField,{id:\"filled-basic\",label:\"Filter Client by Full Name\",variant:\"filled\",defaultValue:\"\",onChange:this.handleChange});}}]);return FilterBox;}(React.Component);var ListingBox=/*#__PURE__*/function(_React$Component3){_inherits(ListingBox,_React$Component3);var _super3=_createSuper(ListingBox);function ListingBox(props){var _this2;_classCallCheck(this,ListingBox);_this2=_super3.call(this,props);// console.log(props);\n_this2.filterListings=function(listingFilter){listingFilter=listingFilter.toLowerCase();var filteredListings=_this2.props.orders;filteredListings=filteredListings.filter(function(listing){var client_name=\"\".concat(listing['first_name'],\" \").concat(listing['last_name']).toLowerCase();// console.log(`    ${client_name}`);\nreturn client_name.includes(listingFilter);});_this2.setState({filteredListings:filteredListings});};_this2.state={filteredListings:[],error:null,Loaded:false};return _this2;}_createClass(ListingBox,[{key:\"componentWillMount\",value:function componentWillMount(){// console.log(this.props.orders);\nthis.setState({filteredListings:this.props.orders});}},{key:\"render\",value:function render(){var _this$state=this.state,filteredListings=_this$state.filteredListings,error=_this$state.error,Loaded=_this$state.Loaded;var _click=this.props.click;var isLoaded=this.props.isLoaded;if(error){return/*#__PURE__*/React.createElement(\"div\",{className:\"block\"},\" Error: \",error.message);}else if(!isLoaded){return/*#__PURE__*/React.createElement(Skeleton,{className:\"block\",variant:\"rect\",height:220});}if(isLoaded&&!Loaded)this.setState({filteredListings:this.props.orders,Loaded:true});return/*#__PURE__*/React.createElement(\"div\",{className:\"listing_box block\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"block-title\"},\"Ramp Requests\"),this.props.isAdmin&&/*#__PURE__*/React.createElement(FilterBox,{onChange:this.filterListings}),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4},/*#__PURE__*/React.createElement(Grid,{align:\"center\",item:true,xs:true},\"Order Number\"),/*#__PURE__*/React.createElement(Grid,{align:\"center\",item:true,xs:true},\"Full Name\"),/*#__PURE__*/React.createElement(Grid,{align:\"center\",item:true,xs:true},\"Company\"),/*#__PURE__*/React.createElement(Grid,{align:\"center\",item:true,xs:true},\"Status\")),filteredListings.map(function(listing,i){return/*#__PURE__*/React.createElement(Listing,{listing:listing,key:i,click:function click(e){e.preventDefault();_click(listing);}});}));}}]);return ListingBox;}(React.Component);export default ListingBox;","map":{"version":3,"sources":["C:/Users/owner/desktop/team/app/src/components/react-components/Listings/index.js"],"names":["React","Button","Grid","Skeleton","TextField","Listing","props","listing","click","Component","FilterBox","handleChange","e","setState","listingFilter","target","value","onChange","state","ListingBox","filterListings","toLowerCase","filteredListings","orders","filter","client_name","includes","error","Loaded","isLoaded","message","isAdmin","map","i","preventDefault"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport {Skeleton} from '@material-ui/lab';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport \"./styles.css\"\r\n\r\n//Listing returns a button with the client/business names and status\r\nclass Listing extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    const {listing, click} = this.props;\r\n    return (\r\n      <Button className=\"listing_button\" onClick={click}>\r\n        <Grid container spacing={4}>\r\n        <Grid item xs>{listing[\"pk\"]} </Grid>\r\n          <Grid item xs>{`${listing['first_name']} ${listing['last_name']}`}</Grid>\r\n          <Grid item xs>{listing['company']} </Grid>\r\n          <Grid item xs>{listing['status']} </Grid>\r\n        </Grid>\r\n      </Button>\r\n    );\r\n  }\r\n}\r\n\r\nclass FilterBox extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listingFilter: \"\",\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      listingFilter: e.target.value\r\n    })\r\n    this.props.onChange(e.target.value)\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <TextField \r\n        id=\"filled-basic\" \r\n        label=\"Filter Client by Full Name\" \r\n        variant=\"filled\"\r\n        defaultValue=\"\"\r\n        onChange={this.handleChange}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nclass ListingBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // console.log(props);\r\n    this.state = {\r\n      filteredListings: [],\r\n      error: null,\r\n      Loaded:false\r\n    }\r\n  }\r\n\r\n  componentWillMount(){\r\n    // console.log(this.props.orders);\r\n    this.setState({\r\n      filteredListings: this.props.orders\r\n    })\r\n  }\r\n\r\n  filterListings = (listingFilter) => {\r\n\r\n    listingFilter = listingFilter.toLowerCase();\r\n    let filteredListings = this.props.orders;\r\n    filteredListings = filteredListings.filter((listing) =>{\r\n      let client_name = `${listing['first_name']} ${listing['last_name']}`.toLowerCase();\r\n      // console.log(`    ${client_name}`);\r\n      return client_name.includes(listingFilter)\r\n    });\r\n    this.setState ({\r\n      filteredListings\r\n    });\r\n  }\r\n\r\n  \r\n  \r\n\r\n  \r\n\r\n  render () {\r\n    const { filteredListings, error,Loaded } = this.state;\r\n    const click= this.props.click;\r\n    const isLoaded = this.props.isLoaded\r\n    if (error) {\r\n      return <div className=\"block\"> Error: {error.message}</div>\r\n    }\r\n    else if (!isLoaded) {\r\n      return <Skeleton className=\"block\" variant=\"rect\" height={220}/>\r\n    }\r\n\r\n \r\n   \r\n\r\n    if (isLoaded && !Loaded)\r\n    this.setState({\r\n      filteredListings: this.props.orders,\r\n      Loaded:true\r\n    })\r\n\r\n\r\n    \r\n  \r\n\r\n  \r\n\r\n    return (\r\n      <div className=\"listing_box block\">\r\n        <h2 className=\"block-title\">\r\n          Ramp Requests\r\n                  </h2>\r\n        {this.props.isAdmin &&\r\n        <FilterBox onChange={this.filterListings}></FilterBox>}\r\n        <Grid container spacing={4}>\r\n          <Grid align=\"center\" item xs>       \r\n            Order Number\r\n          </Grid>\r\n          <Grid align=\"center\" item xs>        \r\n            Full Name\r\n          </Grid>\r\n          <Grid align=\"center\" item xs>        \r\n            Company \r\n          </Grid>\r\n          <Grid align=\"center\" item xs>        \r\n            Status\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {filteredListings.map((listing,i) => (\r\n          <Listing\r\n            listing={listing}\r\n            key={i}\r\n            click={e => {\r\n\r\n              e.preventDefault();\r\n              click(listing);\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListingBox;"]},"metadata":{},"sourceType":"module"}